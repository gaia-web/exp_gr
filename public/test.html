<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Iframe Test</title>
  </head>
  <body>
    <h1>Plugin</h1>
    <button id="sendBtn">Send Message to the Host App</button>

    <script>
      const sendBtn = document.getElementById("sendBtn");

      window.addEventListener("message", (event) => {
        const message = event.data;
        switch (message.type) {
          default:
            console.info(`From host to plugin:`, message);
            break;
        }
      });

      sendBtn.addEventListener("click", () => {
        const msg = {
          type: "test",
          value: prompt("Enter message to send to parent:"),
        };
        if (msg) {
          window.parent.postMessage(msg, "*");
        }
      });
    </script>
  </body>
</html>
